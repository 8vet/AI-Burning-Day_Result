# naver2020

Backend
Django framework를 사용해 개발했습니다. Backend로는 sqlite3을 사용했습니다. 서버 내의 앱은 management 하나로 구성되어 있습니다.
웹사이트의 메인 화면에서 POST 요청을 보내면 선택된 이미지가 데이터베이스에 업로드됩니다. POST 요청이 성공적이었다면, 백엔드는 성공 URL로 리다이렉트 해줍니다. 이때 리다이렉트 되는 성공 페이지는 해당 업로드에 대한 DetailView로 구성되었습니다. 해당하는 데이터베이스 엔트리(이미지) 에 대한 디테일 뷰가 요청되면, 디테일 뷰 상에서 1. 엣지를 추출하고, 2. 추출된 엣지 정보를 바탕으로 최적의 자세를 추천하며, 3. 추천된 자세를 바탕으로 사람이 서 있어야 할 실루엣을 만들어 주는 각각의 모듈을 동작시킵니다. 각 단계의 중간 파일들은 전부 서버 내부에 저장됩니다. 결과적으로, 한번의 뷰 요청에 대해 최초 업로드된 파일을 제외하고 2개의 중간 결과물, 그리고 최종 이미지 파일이 생성됩니다. 이제 서버 내부에서 최종 이미지 파일을 불러온 다음, 이를 뷰에서 HTTPResponse 의 형태로 보여주어, 사용자가 자신이 업로드한 파일에 가장 맞는 자세와 위치를 볼 수 있도록 합니다.
서버는 로컬 환경에서 구축했습니다. 포함된 모듈들의 실행을 위해 해당 웹 서비스를 실행할 서버에는 tensorflow-gpu와 CUDA 환경이 구축되어 있어야 합니다. 

Frontend
프론트엔드는 두 개의 페이지로 구성됩니다. <URL>/upload/ 페이지는 메인페이지로, 파일을 업로드하고 서비스 아이콘을 클릭해 서버에 전송할 수 있습니다. 이후 리다이렉트되는 <URL>/images/<key> 페이지는 업로드된 파일을 처리해 업로드된 이미지와 추천 포즈를 합쳐 보여줍니다.

Download
다음 링크에서 전체 프로젝트 코드를 다운받을 수 있습니다.

https://drive.google.com/file/d/1yC6kNSskt6nX-9ndo8WNGmN9j2D3odqo/view?usp=sharing

<div>
<img src="https://user-images.githubusercontent.com/34572783/74510955-3560d700-4f48-11ea-8296-6c2a21028d62.jpeg", width=500>
</div>
